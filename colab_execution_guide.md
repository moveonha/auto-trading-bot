# 🤖 Google Colab ML 모델 훈련 가이드

## 🚀 시작하기

### 1. Google Colab 접속
- [Google Colab](https://colab.research.google.com) 접속
- Google 계정으로 로그인

### 2. 노트북 업로드
1. `colab_models/` 폴더에서 원하는 노트북 파일 선택
2. Colab에서 `파일 > 노트북 업로드` 선택
3. 생성된 노트북 파일 업로드

### 3. 환경 설정
노트북의 첫 번째 셀에서 Supabase 연결 정보를 설정:

```python
# 🔑 Supabase 연결 설정 (실제 값으로 변경)
SUPABASE_URL = 'YOUR_ACTUAL_SUPABASE_URL'
SUPABASE_KEY = 'YOUR_ACTUAL_SUPABASE_KEY'
```

### 4. 실행
- `런타임 > 모든 셀 실행` 선택
- 또는 각 셀을 순서대로 실행

## 📊 훈련 대상

### 심볼 (5개)
- BTCUSDT (비트코인)
- ETHUSDT (이더리움)
- BNBUSDT (바이낸스 코인)
- ADAUSDT (에이다)
- SOLUSDT (솔라나)

### 타임프레임 (4개)
- 1m (1분봉)
- 5m (5분봉)
- 15m (15분봉)
- 1h (1시간봉)

### 모델 (4개)
- Random Forest
- XGBoost
- LightGBM
- LSTM (딥러닝)

## 🎯 총 훈련 모델 수
- **5개 심볼 × 4개 타임프레임 × 4개 모델 = 80개 모델**

## 📈 훈련 과정

### 1. 데이터 수집
- Supabase에서 3,000개 최신 데이터 수집
- 3년간의 과거 데이터 활용

### 2. 특성 엔지니어링
- 40개 이상의 기술적 지표 계산
- 시간 기반 특성 추가
- 변동성, 추세, 크로스오버 지표

### 3. 목표 변수 생성
- 미래 5분 후 수익률 기반
- 1% 임계값으로 LONG/SHORT/HOLD 분류

### 4. 모델 훈련
- 하이퍼파라미터 튜닝
- 교차 검증 (5-fold)
- 조기 종료 (Early Stopping)

### 5. 성능 평가
- 정확도 (Accuracy)
- 분류 리포트
- 교차 검증 결과

## 💾 모델 저장

### 파일 형식
- **일반 모델**: `.pkl` (Random Forest, XGBoost, LightGBM)
- **LSTM 모델**: `.h5` (TensorFlow/Keras)
- **스케일러**: `_scaler.pkl`
- **인코더**: `_encoder.pkl`

### 다운로드
- 훈련 완료 후 자동 다운로드
- 로컬 `models/` 폴더로 이동

## 🔄 지속적인 최적화

### 자동 재훈련
- 24시간마다 모델 재훈련
- 성능 저하 시 즉시 재훈련

### 파라미터 최적화
- 6시간마다 파라미터 최적화
- 백테스팅 기반 최적 파라미터 탐색

### 성능 모니터링
- 1시간마다 성능 체크
- 5% 이상 성능 저하 시 알림

## 📊 예상 성능

### 목표 정확도
- **80% 이상** 수익률 달성
- **75% 이상** 신호 정확도

### 최적화 지표
- **Sharpe Ratio**: 1.0 이상
- **최대 낙폭**: -10% 이하
- **승률**: 60% 이상

## 🚨 주의사항

### 1. GPU 사용
- LSTM 모델 훈련 시 GPU 활성화 권장
- `런타임 > 런타임 유형 변경 > GPU` 선택

### 2. 메모리 관리
- 대용량 데이터 처리 시 메모리 모니터링
- 필요시 배치 크기 조정

### 3. 실행 시간
- **일반 모델**: 5-10분
- **LSTM 모델**: 30-60분
- **전체 80개 모델**: 8-12시간

## 🔧 문제 해결

### 1. 메모리 부족
```python
# 배치 크기 줄이기
batch_size = 16  # 기본값: 32
```

### 2. 훈련 시간 단축
```python
# 에포크 수 줄이기
epochs = 50  # 기본값: 100
```

### 3. 데이터 부족
```python
# 데이터 수집 기간 늘리기
data_limit = 5000  # 기본값: 3000
```

## 📞 지원

### 로그 확인
- 훈련 과정의 모든 로그는 콘솔에 출력
- 오류 발생 시 상세한 에러 메시지 제공

### 성능 리포트
- 훈련 완료 후 자동으로 성능 리포트 생성
- 모델별 정확도, 파라미터, 최적화 결과 포함

## 🎉 완료 후

### 1. 모델 파일 다운로드
- 모든 모델 파일을 로컬로 다운로드
- `models/` 폴더에 정리

### 2. 실시간 시스템 연동
- `realtime_trading_signals.py` 실행
- 훈련된 모델로 실시간 신호 생성

### 3. 백테스팅 실행
- `continuous_optimization_system.py` 실행
- 지속적인 파라미터 최적화

---

## 🚀 빠른 시작

### 1단계: 첫 번째 모델 훈련
```bash
# BTCUSDT 1분봉 Random Forest 모델부터 시작
btcusdt_1m_random_forest_training.ipynb
```

### 2단계: 전체 모델 훈련
```bash
# 모든 80개 모델 순차 훈련
# 예상 시간: 8-12시간
```

### 3단계: 실시간 시스템 시작
```bash
# 훈련된 모델로 실시간 신호 생성
python realtime_trading_signals.py
```

---

**🎯 목표: 80% 이상 수익률 달성!**
